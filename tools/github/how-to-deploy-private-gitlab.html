<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å¦‚ä½•æ­å»ºç§æœ‰ GitLab | åœ¨è·¯ä¸Š</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.png">
    <mata name="author" content="åœ¨è·¯ä¸Š"></mata>
    <mata name="Keyword" content="æˆ‘çš„åšå®¢"></mata>
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="descriptionæè¿°">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.5bae31cc.css" as="style"><link rel="preload" href="/assets/js/app.05d870f8.js" as="script"><link rel="preload" href="/assets/js/2.8154945c.js" as="script"><link rel="preload" href="/assets/js/92.485dd07f.js" as="script"><link rel="preload" href="/assets/js/3.4234061e.js" as="script"><link rel="prefetch" href="/assets/js/10.14b22f93.js"><link rel="prefetch" href="/assets/js/100.3e73319c.js"><link rel="prefetch" href="/assets/js/101.1685da8c.js"><link rel="prefetch" href="/assets/js/102.be61dc9c.js"><link rel="prefetch" href="/assets/js/103.b0ed0e73.js"><link rel="prefetch" href="/assets/js/104.1788d6c5.js"><link rel="prefetch" href="/assets/js/11.97d54b7d.js"><link rel="prefetch" href="/assets/js/12.d1459a98.js"><link rel="prefetch" href="/assets/js/13.dfdc98f8.js"><link rel="prefetch" href="/assets/js/14.c83614c0.js"><link rel="prefetch" href="/assets/js/15.2abdd438.js"><link rel="prefetch" href="/assets/js/16.f22695ab.js"><link rel="prefetch" href="/assets/js/17.38072a2b.js"><link rel="prefetch" href="/assets/js/18.b4b40293.js"><link rel="prefetch" href="/assets/js/19.4a1f7148.js"><link rel="prefetch" href="/assets/js/20.bd835252.js"><link rel="prefetch" href="/assets/js/21.fbfa6242.js"><link rel="prefetch" href="/assets/js/22.a894fc70.js"><link rel="prefetch" href="/assets/js/23.85cbb46b.js"><link rel="prefetch" href="/assets/js/24.09883a99.js"><link rel="prefetch" href="/assets/js/25.21248724.js"><link rel="prefetch" href="/assets/js/26.88b8c4ec.js"><link rel="prefetch" href="/assets/js/27.f5eda7d1.js"><link rel="prefetch" href="/assets/js/28.83dc6bf8.js"><link rel="prefetch" href="/assets/js/29.1b72d6de.js"><link rel="prefetch" href="/assets/js/30.683f47fb.js"><link rel="prefetch" href="/assets/js/31.0a3d143d.js"><link rel="prefetch" href="/assets/js/32.9964a42e.js"><link rel="prefetch" href="/assets/js/33.5922177d.js"><link rel="prefetch" href="/assets/js/34.884c77f8.js"><link rel="prefetch" href="/assets/js/35.70c37a36.js"><link rel="prefetch" href="/assets/js/36.30f006ab.js"><link rel="prefetch" href="/assets/js/37.52d9592e.js"><link rel="prefetch" href="/assets/js/38.236f6f1d.js"><link rel="prefetch" href="/assets/js/39.df53a660.js"><link rel="prefetch" href="/assets/js/4.364dea52.js"><link rel="prefetch" href="/assets/js/40.2983f094.js"><link rel="prefetch" href="/assets/js/41.332aa290.js"><link rel="prefetch" href="/assets/js/42.8e4f216f.js"><link rel="prefetch" href="/assets/js/43.db4b18da.js"><link rel="prefetch" href="/assets/js/44.2ec763e5.js"><link rel="prefetch" href="/assets/js/45.6469b764.js"><link rel="prefetch" href="/assets/js/46.660a0f01.js"><link rel="prefetch" href="/assets/js/47.338a5418.js"><link rel="prefetch" href="/assets/js/48.fa9157e3.js"><link rel="prefetch" href="/assets/js/49.997112f7.js"><link rel="prefetch" href="/assets/js/5.0e72a8e9.js"><link rel="prefetch" href="/assets/js/50.05f1be4b.js"><link rel="prefetch" href="/assets/js/51.9c28cdfa.js"><link rel="prefetch" href="/assets/js/52.0be03ca9.js"><link rel="prefetch" href="/assets/js/53.62734f7b.js"><link rel="prefetch" href="/assets/js/54.d88fb9ae.js"><link rel="prefetch" href="/assets/js/55.09186428.js"><link rel="prefetch" href="/assets/js/56.73464fbf.js"><link rel="prefetch" href="/assets/js/57.ff912441.js"><link rel="prefetch" href="/assets/js/58.b98735ba.js"><link rel="prefetch" href="/assets/js/59.6926ed2d.js"><link rel="prefetch" href="/assets/js/6.d3ecc9b3.js"><link rel="prefetch" href="/assets/js/60.96110eaf.js"><link rel="prefetch" href="/assets/js/61.394f97da.js"><link rel="prefetch" href="/assets/js/62.c97fd3ef.js"><link rel="prefetch" href="/assets/js/63.88ebd405.js"><link rel="prefetch" href="/assets/js/64.24b24675.js"><link rel="prefetch" href="/assets/js/65.28f87ae1.js"><link rel="prefetch" href="/assets/js/66.54dc0506.js"><link rel="prefetch" href="/assets/js/67.1d5d22f7.js"><link rel="prefetch" href="/assets/js/68.7124f767.js"><link rel="prefetch" href="/assets/js/69.47fc9fcc.js"><link rel="prefetch" href="/assets/js/7.fa4ab570.js"><link rel="prefetch" href="/assets/js/70.6d4bcfd6.js"><link rel="prefetch" href="/assets/js/71.1062fc38.js"><link rel="prefetch" href="/assets/js/72.736a5d68.js"><link rel="prefetch" href="/assets/js/73.e7c27749.js"><link rel="prefetch" href="/assets/js/74.d437f9c8.js"><link rel="prefetch" href="/assets/js/75.fbac1063.js"><link rel="prefetch" href="/assets/js/76.e73e63ca.js"><link rel="prefetch" href="/assets/js/77.c303b03b.js"><link rel="prefetch" href="/assets/js/78.6a82fa23.js"><link rel="prefetch" href="/assets/js/79.8d787e88.js"><link rel="prefetch" href="/assets/js/8.76666434.js"><link rel="prefetch" href="/assets/js/80.822f4cf2.js"><link rel="prefetch" href="/assets/js/81.03025255.js"><link rel="prefetch" href="/assets/js/82.51f9320c.js"><link rel="prefetch" href="/assets/js/83.e2682388.js"><link rel="prefetch" href="/assets/js/84.b9746516.js"><link rel="prefetch" href="/assets/js/85.a1060367.js"><link rel="prefetch" href="/assets/js/86.9b39ee2d.js"><link rel="prefetch" href="/assets/js/87.79f51dc9.js"><link rel="prefetch" href="/assets/js/88.8dab25cb.js"><link rel="prefetch" href="/assets/js/89.b8d28b75.js"><link rel="prefetch" href="/assets/js/9.5900836f.js"><link rel="prefetch" href="/assets/js/90.9efb05a6.js"><link rel="prefetch" href="/assets/js/91.c2d4b726.js"><link rel="prefetch" href="/assets/js/93.6c6489e0.js"><link rel="prefetch" href="/assets/js/94.f39d3f5b.js"><link rel="prefetch" href="/assets/js/95.6d784451.js"><link rel="prefetch" href="/assets/js/96.59a932d4.js"><link rel="prefetch" href="/assets/js/97.a8b278b7.js"><link rel="prefetch" href="/assets/js/98.c10d1295.js"><link rel="prefetch" href="/assets/js/99.95358c3f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5bae31cc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="åœ¨è·¯ä¸Š" class="logo"> <span class="site-name can-hide">åœ¨è·¯ä¸Š</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ¡†æ¶" class="dropdown-title"><span class="title">æ¡†æ¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ¡†æ¶" class="mobile-dropdown-title"><span class="title">æ¡†æ¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Spring
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  Home
</a></li><li class="dropdown-subitem"><a href="/about/" class="nav-link">
  About
</a></li></ul></li><li class="dropdown-item"><h4>
          Mybatis
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  Home
</a></li><li class="dropdown-subitem"><a href="/about/" class="nav-link">
  About
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç³»ç»Ÿ" class="dropdown-title"><span class="title">ç³»ç»Ÿ</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç³»ç»Ÿ" class="mobile-dropdown-title"><span class="title">ç³»ç»Ÿ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/os/ubuntu/" class="nav-link">
  Ubuntu
</a></li><li class="dropdown-item"><!----> <a href="/os/centos/" class="nav-link">
  CentOS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åç«¯" class="dropdown-title"><span class="title">åç«¯</span> <span class="arrow down"></span></button> <button type="button" aria-label="åç«¯" class="mobile-dropdown-title"><span class="title">åç«¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/backend/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/backend/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/backend/docker/" class="nav-link">
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¼€å‘å·¥å…·" class="dropdown-title"><span class="title">å¼€å‘å·¥å…·</span> <span class="arrow down"></span></button> <button type="button" aria-label="å¼€å‘å·¥å…·" class="mobile-dropdown-title"><span class="title">å¼€å‘å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/tools/github/" class="nav-link router-link-active">
  Github
</a></li><li class="dropdown-item"><!----> <a href="/tools/vscode/" class="nav-link">
  VSCode
</a></li><li class="dropdown-item"><!----> <a href="/tools/bookmark-scripts/" class="nav-link">
  Bookmark scripts
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><span class="title">æ›´å¤š</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ›´å¤š" class="mobile-dropdown-title"><span class="title">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/navigation.html" class="nav-link">
  å¯¼èˆª ğŸ‰
</a></li><li class="dropdown-item"><!----> <a href="https://shanyuhai123.github.io/vuepress-plugin-auto-sidebar/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress ä¾§è¾¹æ æ’ä»¶
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress å®˜ç½‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ¡†æ¶" class="dropdown-title"><span class="title">æ¡†æ¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ¡†æ¶" class="mobile-dropdown-title"><span class="title">æ¡†æ¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Spring
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  Home
</a></li><li class="dropdown-subitem"><a href="/about/" class="nav-link">
  About
</a></li></ul></li><li class="dropdown-item"><h4>
          Mybatis
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/" class="nav-link">
  Home
</a></li><li class="dropdown-subitem"><a href="/about/" class="nav-link">
  About
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç³»ç»Ÿ" class="dropdown-title"><span class="title">ç³»ç»Ÿ</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç³»ç»Ÿ" class="mobile-dropdown-title"><span class="title">ç³»ç»Ÿ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/os/ubuntu/" class="nav-link">
  Ubuntu
</a></li><li class="dropdown-item"><!----> <a href="/os/centos/" class="nav-link">
  CentOS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åç«¯" class="dropdown-title"><span class="title">åç«¯</span> <span class="arrow down"></span></button> <button type="button" aria-label="åç«¯" class="mobile-dropdown-title"><span class="title">åç«¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/backend/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/backend/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/backend/docker/" class="nav-link">
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¼€å‘å·¥å…·" class="dropdown-title"><span class="title">å¼€å‘å·¥å…·</span> <span class="arrow down"></span></button> <button type="button" aria-label="å¼€å‘å·¥å…·" class="mobile-dropdown-title"><span class="title">å¼€å‘å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/tools/github/" class="nav-link router-link-active">
  Github
</a></li><li class="dropdown-item"><!----> <a href="/tools/vscode/" class="nav-link">
  VSCode
</a></li><li class="dropdown-item"><!----> <a href="/tools/bookmark-scripts/" class="nav-link">
  Bookmark scripts
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><span class="title">æ›´å¤š</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ›´å¤š" class="mobile-dropdown-title"><span class="title">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/more/navigation.html" class="nav-link">
  å¯¼èˆª ğŸ‰
</a></li><li class="dropdown-item"><!----> <a href="https://shanyuhai123.github.io/vuepress-plugin-auto-sidebar/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress ä¾§è¾¹æ æ’ä»¶
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress å®˜ç½‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Github</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tools/github/" aria-current="page" class="sidebar-link">å…¨çƒæœ€å¤§åŒæ€§äº¤å‹å¹³å° Github</a></li><li><a href="/tools/github/dns-resolve-github-pages.html" class="sidebar-link">DNS è§£æ Github Pages</a></li><li><a href="/tools/github/download-huge-project-from-github.html" class="sidebar-link">ä» Github ä¸‹è½½å¤§é¡¹ç›®</a></li><li><a href="/tools/github/how-to-deploy-private-gitlab.html" aria-current="page" class="active sidebar-link">å¦‚ä½•æ­å»ºç§æœ‰ GitLab</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tools/github/how-to-deploy-private-gitlab.html#å®‰è£…-gitlab" class="sidebar-link">å®‰è£… GitLab</a></li><li class="sidebar-sub-header"><a href="/tools/github/how-to-deploy-private-gitlab.html#é‚®ä»¶æœåŠ¡" class="sidebar-link">é‚®ä»¶æœåŠ¡</a></li><li class="sidebar-sub-header"><a href="/tools/github/how-to-deploy-private-gitlab.html#hostname" class="sidebar-link">hostname</a></li><li class="sidebar-sub-header"><a href="/tools/github/how-to-deploy-private-gitlab.html#å¤‡ä»½ä¸æ¢å¤" class="sidebar-link">å¤‡ä»½ä¸æ¢å¤</a></li><li class="sidebar-sub-header"><a href="/tools/github/how-to-deploy-private-gitlab.html#å¿«é€Ÿè€Œç®€å•çš„å‡çº§" class="sidebar-link">å¿«é€Ÿè€Œç®€å•çš„å‡çº§</a></li><li class="sidebar-sub-header"><a href="/tools/github/how-to-deploy-private-gitlab.html#æ·»åŠ -runner" class="sidebar-link">æ·»åŠ  Runner</a></li></ul></li><li><a href="/tools/github/switch-multiple-github-accounts.html" class="sidebar-link">åˆ‡æ¢å¤šä¸ª github è´¦å·</a></li><li><a href="/tools/github/sync-a-fork.html" class="sidebar-link">åŒæ­¥ä¸€ä¸ª fork</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="å¦‚ä½•æ­å»ºç§æœ‰-gitlab"><a href="#å¦‚ä½•æ­å»ºç§æœ‰-gitlab" class="header-anchor">#</a> å¦‚ä½•æ­å»ºç§æœ‰ GitLab</h1> <h2 id="å®‰è£…-gitlab"><a href="#å®‰è£…-gitlab" class="header-anchor">#</a> å®‰è£… GitLab</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># åˆ›å»ºæ•°æ®ç›®å½•</span>
<span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /srv/gitlab/config /srv/gitlab/logs /srv/gitlab/data

<span class="token comment"># éªŒè¯</span>
tree /srv

<span class="token comment"># å®‰è£… gitlab</span>
<span class="token function">sudo</span> <span class="token function">docker</span> run <span class="token parameter variable">--detach</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--restart</span> always <span class="token punctuation">\</span>
  <span class="token parameter variable">--hostname</span> gitlab.example.com <span class="token punctuation">\</span>
  <span class="token comment"># æ³¨æ„ä¿®æ”¹ 22 ä¸º 30022 åï¼Œåˆ©ç”¨ git åè®®ä¸‹è½½éœ€æŒ‡å®šå…¶ç«¯å£æ‰å¯ä»¥ä¸‹è½½ï¼Œä¾‹å¦‚ git clone ssh://git@xxx.gitlab.com:port/.../xxx.git</span>
  <span class="token comment"># å¯é…ç½® ssh config æŒ‡å®šç«¯å£ï¼Œå‡å°‘æ“ä½œ</span>
  <span class="token comment"># è€Œ http åè®®å¯æ­£å¸¸ä¸‹è½½ï¼ˆå…¶å®æ˜¯å› ä¸º nginx è½¬äº†ä¸€å±‚ï¼Œå¦åˆ™ä¹Ÿæ˜¯å¾—ä¿®æ”¹çš„ï¼‰</span>
  <span class="token parameter variable">--publish</span> <span class="token number">30443</span>:443 <span class="token parameter variable">--publish</span> <span class="token number">30080</span>:80 <span class="token parameter variable">--publish</span> <span class="token number">30022</span>:22 <span class="token punctuation">\</span>
  <span class="token parameter variable">--volume</span> /srv/gitlab/config:/etc/gitlab <span class="token punctuation">\</span>
  <span class="token parameter variable">--volume</span> /srv/gitlab/logs:/var/log/gitlab <span class="token punctuation">\</span>
  <span class="token parameter variable">--volume</span> /srv/gitlab/data:/var/opt/gitlab <span class="token punctuation">\</span>
  <span class="token parameter variable">--name</span> gitlab <span class="token punctuation">\</span>
  gitlab/gitlab-ce

<span class="token comment"># éªŒè¯</span>
<span class="token function">docker</span> <span class="token function">ps</span>
<span class="token function">netstat</span> <span class="token parameter variable">-tunlp</span>
</code></pre></div><p>æœ€åæ‰“å¼€æµè§ˆå™¨æ¥éªŒè¯ã€‚</p> <h2 id="é‚®ä»¶æœåŠ¡"><a href="#é‚®ä»¶æœåŠ¡" class="header-anchor">#</a> é‚®ä»¶æœåŠ¡</h2> <p>å¤šå®¶å¯¹æ¯”åé€‰æ‹©äº†<a href="https://exmail.qq.com/" target="_blank" rel="noopener noreferrer">è…¾è®¯ä¼ä¸šé‚®ç®±<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œä¾æ¬¡è¿›å…¥ <code>é‚®ç®± =&gt; é‚®ç®±è®¾ç½® =&gt; æ”¶å‘ä¿¡è®¾ç½® =&gt; å¼€å¯IMAP/SMTPæœåŠ¡</code>ï¼Œå†å›åˆ° <code>é‚®ç®±è®¾ç½® =&gt; é‚®ç®±ç»‘å®š =&gt; å®‰å…¨ç™»å½•</code> è·å–æˆæƒç å³å¯ï¼ˆè‡³äºé…ç½®åŸŸåï¼Œé‚®ä»¶é…ç½®å¯å¦è¡Œè°·æ­Œï¼‰ã€‚</p> <h3 id="_1-ä¿®æ”¹é…ç½®"><a href="#_1-ä¿®æ”¹é…ç½®" class="header-anchor">#</a> 1. ä¿®æ”¹é…ç½®</h3> <p>æ‰¾åˆ° <code>Email Settings</code> åœ¨åé¢è¿½åŠ å¯¹åº”çš„ <code>SMTP</code> é…ç½®ã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /srv/gitlab/config/gitlab.rb

<span class="token comment"># å¼€å¯ SMTP åŠŸèƒ½</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_enable'</span><span class="token punctuation">]</span><span class="token operator">=</span>true
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_address'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;smtp.exmail.qq.com&quot;</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_port'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">465</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_user_name'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;name@domain.com&quot;</span> <span class="token comment"># é‚®ä»¶å‘é€äºº</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'gitlab_email_from'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;name@domain.com&quot;</span> <span class="token comment"># ä¸ smtp_user_name ä¸€è‡´</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_password'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;password&quot;</span> <span class="token comment"># è·å–çš„æˆæƒç </span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_domain'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;exmail.qq.com&quot;</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_authentication'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;login&quot;</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_enable_starttls_auto'</span><span class="token punctuation">]</span><span class="token operator">=</span>true
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_tls'</span><span class="token punctuation">]</span><span class="token operator">=</span>true
</code></pre></div><h3 id="_2-éªŒè¯æœåŠ¡"><a href="#_2-éªŒè¯æœåŠ¡" class="header-anchor">#</a> 2. éªŒè¯æœåŠ¡</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># ä»¥å‘½ä»¤å½¢å¼é‡æ–°åŠ è½½é…ç½®ï¼Œä¹Ÿå¯è¿›å…¥å®¹å™¨åæ‰‹åŠ¨æ‰§è¡Œ</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> gitlab gitlab-ctl reconfigure

<span class="token comment"># è¿›å…¥ gitlab å®¹å™¨</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> gitlab <span class="token function">bash</span>

<span class="token comment"># å¼€å¯ gitlab-rails</span>
gitlab-rails console

<span class="token comment"># æµ‹è¯•é‚®ä»¶å‘é€ï¼Œå¯æ¢ä¸ºè‡ªå·±çš„é‚®ç®±</span>
Notify.test_email<span class="token punctuation">(</span><span class="token string">'someone@example.com'</span>, <span class="token string">'Message Subject'</span>, <span class="token string">'Message Body'</span><span class="token punctuation">)</span>.deliver_now
</code></pre></div><p>ç­‰å¾…é‚®ä»¶å‘é€åˆ°è‡ªå·±çš„é‚®ç®±åå³å¯ã€‚</p> <h2 id="hostname"><a href="#hostname" class="header-anchor">#</a> hostname</h2> <p><code>hostname</code> ä¼šå½±å“ä»“åº“ä¸‹è½½ã€ç”¨æˆ·æ³¨å†Œé‚€è¯·ç­‰é—®é¢˜ã€‚</p> <p>åœ¨å®‰è£… <code>gitlab</code> æ—¶ä¸ºå…¶è®¾ç½® <code>hostname</code> ä¸º <code>gitlab.example.com</code>ï¼Œæ­¤å¤„è¿˜éœ€è¦ä¿®æ”¹ä¸ºä½ å¯¹åº”çš„åŸŸåæˆ– <code>ip</code> åœ°å€ã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /srv/gitlab/config/gitlab.rb

<span class="token comment"># é…ç½® external_url</span>
external_url <span class="token string">'http://gitlab.example.com'</span>
</code></pre></div><h2 id="å¤‡ä»½ä¸æ¢å¤"><a href="#å¤‡ä»½ä¸æ¢å¤" class="header-anchor">#</a> å¤‡ä»½ä¸æ¢å¤</h2> <blockquote><p>ä¸€ä¸ªæœ‰æ„æ€çš„å°è¯•æ˜¯ç›´æ¥æ›´æ–°é•œåƒä¹Ÿä¼šè‡ªåŠ¨è¿ç§»é…ç½®ï¼Œå•†ä¸šæ•°æ®è¯·å°å¿ƒè¯¥å°è¯•</p></blockquote> <p>ç”±äºå¼€å§‹å°±å°†æ•°æ®å·æŒ‚è½½åˆ° <code>/srv/gitlab</code> ä¸‹ï¼Œæ‰€ä»¥å¤‡ä»½çš„æ•°æ®ä¹Ÿä¼šåœ¨è¯¥ç›®å½•çš„ <code>/srv/gitlab/data/backups</code> ä¸­ã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># GitLab 12.2 ä¹‹åçš„ç‰ˆæœ¬å¤‡ä»½æŒ‡ä»¤</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-t</span> <span class="token operator">&lt;</span>container name<span class="token operator">&gt;</span> gitlab-backup create
</code></pre></div><p>æ›´å¥½çš„å½¢å¼æ˜¯å®šæœŸå¤‡ä»½ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">crontab</span> <span class="token parameter variable">-e</span>

<span class="token comment"># æ¯å¤©å‡Œæ™¨4ç‚¹å¤‡ä»½</span>
<span class="token number">0</span> <span class="token number">4</span> * * * <span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-t</span> gitlab gitlab-backup create <span class="token operator">&amp;&gt;</span> /dev/null
<span class="token comment"># æ¯å¤©å‡Œæ™¨4ç‚¹å¤‡ä»½åˆ é™¤ 7 å¤©å‰å¤‡ä»½</span>
<span class="token number">0</span> <span class="token number">4</span> * * * <span class="token function">find</span> /srv/gitlab/data/backups/ <span class="token parameter variable">-mtime</span> +7 <span class="token parameter variable">-name</span> <span class="token string">&quot;*gitlab_backup.tar&quot;</span> <span class="token parameter variable">-delete</span> <span class="token operator">&amp;&gt;</span> /dev/null
</code></pre></div><p>æ ¹æ®å¤‡ä»½æ¢å¤æ•°æ®ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># åœæ­¢æœåŠ¡</span>
gitlab-ctl stop unicorn <span class="token comment"># åº”ç”¨æœåŠ¡å™¨</span>
gitlab-ctl stop sidekiq <span class="token comment"># åå°å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—</span>
gitlab-ctl status <span class="token comment"># éªŒè¯</span>

<span class="token comment"># æŒ‡å®šæ•°æ®</span>
gitlab-rake gitlab:backup:restore <span class="token assign-left variable">BACKUP</span><span class="token operator">=</span>1607523472_2020_12_09_13.2.1
</code></pre></div><h2 id="å¿«é€Ÿè€Œç®€å•çš„å‡çº§"><a href="#å¿«é€Ÿè€Œç®€å•çš„å‡çº§" class="header-anchor">#</a> å¿«é€Ÿè€Œç®€å•çš„å‡çº§</h2> <p>ä½¿ç”¨ Docker Compose è¿›è¡Œç»´æŠ¤ï¼Œæ‰¾åˆ°æ–°çš„<a href="https://hub.docker.com/r/gitlab/gitlab-ce/tags" target="_blank" rel="noopener noreferrer">é•œåƒ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>æ›¿æ¢ä¸Šï¼Œæ³¨æ„å¤§ç‰ˆæœ¬çš„å‡çº§å˜åŠ¨ã€‚</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker-compose</span> down
<span class="token function">docker-compose</span> up

<span class="token comment"># ç­‰å¾…å®Œæˆ</span>
<span class="token function">docker-compose</span> logs <span class="token parameter variable">-f</span>
</code></pre></div><h2 id="æ·»åŠ -runner"><a href="#æ·»åŠ -runner" class="header-anchor">#</a> æ·»åŠ  Runner</h2> <p>å…ˆæ³¨å†Œ GitLab Runnerï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># æ³¨å†Œï¼ˆåˆ é™¤ register åŠä»¥åå¯äº¤äº’å¼æ³¨å†Œï¼‰</span>
<span class="token function">docker</span> run <span class="token parameter variable">--rm</span> <span class="token parameter variable">-it</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-v</span> /srv/gitlab-runner/config:/etc/gitlab-runner <span class="token punctuation">\</span>
  gitlab/gitlab-runner:latest register <span class="token punctuation">\</span>
    --non-interactive <span class="token punctuation">\</span>
    <span class="token parameter variable">--url</span> <span class="token string">&quot;https://gitlab.com/&quot;</span> <span class="token punctuation">\</span>
    --registration-token <span class="token string">&quot;PROJECT_REGISTRATION_TOKEN&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--executor</span> <span class="token string">&quot;docker&quot;</span> <span class="token punctuation">\</span>
    --docker-image <span class="token string">&quot;docker:19.03.12&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--description</span> <span class="token string">&quot;docker-runner&quot;</span> <span class="token punctuation">\</span>
    <span class="token comment"># --docker-privileged åˆ¤æ–­æ˜¯å¦éœ€è¦</span>
    --docker-privileged <span class="token punctuation">\</span>
    --tag-list <span class="token string">&quot;docker&quot;</span> <span class="token punctuation">\</span>
    --run-untagged<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">--locked</span><span class="token operator">=</span><span class="token string">&quot;false&quot;</span> <span class="token punctuation">\</span>
    --access-level<span class="token operator">=</span><span class="token string">&quot;not_protected&quot;</span>
</code></pre></div><p>å†å‰å¾€ <code>/srv/gitlab-runner/config/config.toml</code> ä¿®æ”¹ <code>volumes</code>ï¼š</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token comment"># ä¿®æ”¹å‰ï¼š</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">runners</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
  <span class="token comment"># ...</span>
  <span class="token punctuation">[</span><span class="token table class-name">runners.docker</span><span class="token punctuation">]</span>
    <span class="token key property">volumes</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;/cache&quot;</span><span class="token punctuation">]</span>

<span class="token comment"># ä¿®æ”¹åï¼š</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">runners</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
  <span class="token comment"># ...</span>
  <span class="token punctuation">[</span><span class="token table class-name">runners.docker</span><span class="token punctuation">]</span>
    <span class="token key property">volumes</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;/cache&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/var/run/docker.sock:/var/run/docker.sock&quot;</span><span class="token punctuation">]</span>
</code></pre></div><p>æœ€åå¯åŠ¨ Runnerï¼š</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--restart</span> always <span class="token punctuation">\</span>
  <span class="token parameter variable">-v</span> /srv/gitlab-runner/config:/etc/gitlab-runner <span class="token punctuation">\</span>
  <span class="token parameter variable">-v</span> /var/run/docker.sock:/var/run/docker.sock <span class="token punctuation">\</span>
  <span class="token parameter variable">--name</span> gitlab-runner <span class="token punctuation">\</span>
  gitlab/gitlab-runner:latest
</code></pre></div><h3 id="privileged"><a href="#privileged" class="header-anchor">#</a> privileged</h3> <p>å½“å­˜åœ¨ <code>error during connect no such host</code> æŠ¥é”™æ—¶ä¿®æ”¹ runner config çš„ <code>privileged</code> å±æ€§ä¸º <code>true</code>ã€‚</p> <h3 id="è‡ªç­¾è¯ä¹¦"><a href="#è‡ªç­¾è¯ä¹¦" class="header-anchor">#</a> è‡ªç­¾è¯ä¹¦</h3> <p>æ ¹æ® <a href="https://docs.gitlab.com/runner/configuration/tls-self-signed.html" target="_blank" rel="noopener noreferrer">tls-self-signed<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å»ä¿¡ä»» caï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># å®¿ä¸»æœº</span>
<span class="token function">docker</span> <span class="token function">cp</span> /etc/gitlab-runner/certs/ca.crt gitlab-runner-node:/usr/local/share/ca-certificates/ca.crt

<span class="token comment"># å®¹å™¨å†…</span>
<span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> ca-certificates
update-ca-certificates <span class="token parameter variable">--fresh</span>

<span class="token function">curl</span> https://example.com <span class="token comment"># è®¿é—®æˆåŠŸ</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/minboo/docs/edit/master/docs/tools/github/how-to-deploy-private-gitlab.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘æ–‡æ¡£ï¼</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">å‡ ç§’å‰</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/tools/github/download-huge-project-from-github.html" class="prev">
        ä» Github ä¸‹è½½å¤§é¡¹ç›®
      </a></span> <span class="next"><a href="/tools/github/switch-multiple-github-accounts.html">
        åˆ‡æ¢å¤šä¸ª github è´¦å·
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.05d870f8.js" defer></script><script src="/assets/js/2.8154945c.js" defer></script><script src="/assets/js/92.485dd07f.js" defer></script><script src="/assets/js/3.4234061e.js" defer></script>
  </body>
</html>
